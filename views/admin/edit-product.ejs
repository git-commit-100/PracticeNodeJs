<%- include("../includes/header.ejs") %> <%- include("../includes/nav.ejs") %>

<div class="add-product-div">
  <% if(editMode){ %>
  <h2 class="header">Admin Edit Product Page</h2>
  <% } else { %>
  <h2 class="header">Admin Add Product Page</h2>
  <% } %>
  <form
    class="add-product-form"
    action="/admin/<% if(editMode) {%>edit-product <% } else { %>add-product<%}%>"
    method="post"
  >
    <div class="form-inner-div">
      <label for="title-input">Add product Title</label>
      <input
        type="text"
        name="productTitle"
        autocomplete="off"
        required
        <% if(editMode) {%>
        value="<%= product.title %>"
        <% } %>
      />

      <label for="img-input">Add product Image</label>
      <input
        type="text"
        name="productImg"
        autocomplete="off"
        required
        <% if(editMode) {%>
          value="<%= product.img %>"
          <% } %>
      />

      <label for="desc-input">Add product Description</label>
      <textarea
        type="text"
        name="productDesc"
        autocomplete="off"
        required
      ><% if(editMode) { %> <%=product.desc%> <% } %></textarea>

      <label for="price-input">Add product Price</label>
      <input
        type="number"
        name="productPrice"
        autocomplete="off"
        required
        step="0.01"
        <% if(editMode) {%>
          value="<%= product.price %>"
          <% } %>
      />

      <% if(editMode) { %>
        <input type="hidden" value="<%= product.id %>" name="productId"/>
        <% } %>

      <div class="actions-div">
        <% if(editMode) { %>
        <a class="btn" href="/admin/products">Go back</a>
        <button type="submit" class="btn submit-btn success">
          Update Product
        </button>
        <% } else { %>
        <button type="submit" class="btn submit-btn">Add Product</button>
        <% } %>
      </div>
    </div>
  </form>
</div>

<%- include("../includes/footer.ejs") %>
